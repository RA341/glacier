syntax = "proto3";

package search.v1;

option go_package = "github.com/ra341/glacier/generated/search/v1";

service SearchService {
  rpc SearchIndexers(SearchIndexersRequest) returns (SearchIndexersResponse) {}
  rpc SearchMetadata(SearchMetadataRequest) returns (SearchMetadataResponse) {}
}

message Query {
  string query = 1;
  string indexer = 2;
}

message SearchIndexersRequest {
  Query q = 1;
}

message SearchIndexersResponse {
  repeated GameSource results = 1;
}

message GameSource {
  string IndexerType = 6;
  string GameType = 7;
  string Title = 1;
  string DownloadUrl = 2;
  string ImageURL = 3;
  string FileSize = 4;
  string CreatedISO = 5;
}

message SearchMetadataRequest {
  Query q = 1;
}

message SearchMetadataResponse {
  repeated GameMetadata metadata = 1;
}

message GameMetadata {
  string ProviderType = 15;
  string ID = 14;
  string Name = 1;
  string Summary = 2;
  string Description = 3;
  string URL = 4;
  string ThumbnailURL = 5;
  repeated string Videos = 6;
  repeated string Platforms = 7;
  repeated string Genres = 8;
  string Rating = 9;
  uint32 RatingCount = 10;
  string ReleaseDate = 11;
  string ReleaseStatus = 12;
  string Category = 13;
}